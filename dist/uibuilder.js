"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),UIBuilderHelpers=function(){function e(){classCallCheck(this,e)}return createClass(e,null,[{key:"isDefined",value:function(e){return void 0!=e}},{key:"isObject",value:function(e){return this.isDefined(e)&&"object"==(void 0===e?"undefined":_typeof(e))}},{key:"isArray",value:function(e){return this.isDefined(e)&&"object"==(void 0===e?"undefined":_typeof(e))&&void 0!==e.length}},{key:"isString",value:function(e){return this.isDefined(e)&&"string"==typeof e}},{key:"printf",value:function(e,t){var n=/\{\{(\w+)\}\}/g,i=e,r=void 0,s=void 0,a=void 0;if(!this.isObject(t))return e;for(;null!==(a=n.exec(e));)r=a[0],s=t[a[1]],this.isDefined(s)&&(i=i.replace(r,s));return i}}]),e}(),UIComponent=function(){function e(t,n,i){classCallCheck(this,e),t&&(this.tg=t),n&&UIBuilderHelpers.isObject(n)&&this.map(n),i&&(this.cn=i)}return createClass(e,[{key:"map",value:function(t){if(t)for(var n in t)this[e.attributes[n]]=t[n]}}]),e}();UIComponent.SVG_NS_ATTR="http://www.w3.org/2000/svg",UIComponent.attributes={id:"id",ns:"ns",className:"cl",style:"st",attributes:"ar",html:"tx",data:"dt",scope:"sc",actions:"ac"};var UIBuilder=function(){function e(t){classCallCheck(this,e),this._defaults={baseName:"UI",autoID:!1},this._attrs={tg:"div",id:"",ns:!1,cl:[],st:{},ar:{},dt:{},tx:"",ac:{},sc:{}},Object.assign(this,this._defaults,t),this._elementCount=this._lvl=0}return createClass(e,[{key:"_buildElement",value:function(e,t){try{var n=Object.assign({},this._attrs,e);this.autoID&&""===n.id&&(n.id=this.getNextID()),UIBuilderHelpers.isString(e)&&(n.tg="span",n.tx=e.valueOf());var i=n.ns?document.createElementNS(n.ns,n.tg):document.createElement(n.tg);return""!==n.id&&(i.id=n.id),function(e){return UIBuilderHelpers.isObject(e)?e:e.split(" ")}(n.cl).forEach(function(e){return i.classList.add(e)}),Object.keys(n.ar).forEach(function(e){return i.setAttribute(e,n.ar[e])}),Object.keys(n.dt).forEach(function(e){return i.setAttribute("data-"+e,n.ar[e])}),Object.assign(i.style,n.st),Object.keys(n.ac).forEach(function(e){return i.addEventListener(e,n.ac[e].bind(n.sc))}),i.innerHTML=UIBuilderHelpers.printf(n.tx,n.sc),t&&UIBuilderHelpers.isObject(t)&&t.appendChild(i),i}catch(e){throw new Error("UIBuilder._buildElement internal error. Details: "+e)}}},{key:"_build",value:function(e,t){var n=this,i=void 0,r=function(e){var r=e.cn;i=n._buildElement(e,t),r&&UIBuilderHelpers.isDefined(r)&&n._build(r,i)}.bind(this);this._lvl++;try{switch(!0){case UIBuilderHelpers.isArray(e):for(var s=0;s<e.length;s++)r(e[s]);break;case UIBuilderHelpers.isObject(e):r(e)}return this._lvl--,t||i||new HTMLElement}catch(e){throw new Error("UIBuilder._build internal error. Details: "+e)}}},{key:"getElementCount",value:function(){return this._elementCount}},{key:"getNextID",value:function(){return this.baseName+"-"+this._elementCount++}},{key:"getBaseName",value:function(){return this.baseName}},{key:"build",value:function(e,t){var n=this;if(!UIBuilderHelpers.isObject(e))throw new TypeError("UIBuilder.build(spec, parent): spec must be an array");return this._lvl=0,new Promise(function(i,r){try{i(n._build(e,t))}catch(e){r(e)}})}}]),e}();
//# sourceMappingURL=uibuilder.js.map
